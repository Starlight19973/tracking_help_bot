# Telegram Bot для Медицинской Системы

Этот проект представляет собой Telegram бота для управления пациентами, который помогает врачу вести запись пациентов с датой визита, получать список пациентов, пришедших сегодня, а также количество пациентов за каждый день недели.

## Шаги для запуска проекта

### 1. Получение токена от BotFather

1. В Telegram найдите пользователя `BotFather`.
2. Отправьте команду `/newbot`, чтобы создать нового бота.
3. Следуйте инструкциям, чтобы задать имя и логин бота.
4. BotFather сгенерирует токен для вашего бота. Сохраните этот токен — он понадобится для настройки проекта.

### 2. Настройка переменных окружения

Создайте файл `.env` в корне проекта и добавьте туда следующие переменные:

```env
BOT_TOKEN=ваш_токен_от_BotFather
DB_URL=postgresql://user:password@localhost:5432/your_database
```

### 3. Установите зависимоости проекта
```env
pip install -r requirements.txt
```

### 4. Инициализация БД

Перед запуском бота необходимо инициализировать базу данных. В проекте используется PostgreSQL, а таблица для хранения данных пациентов создаётся автоматически при первом запуске бота, если она ещё не существует.

1. Убедитесь, что у вас установлен PostgreSQL.
2. В файле database/crud.py есть функция create_table(), которая создаёт таблицу пациентов.
3. Функция create_table() вызывается автоматически при первом запуске бота, и она проверяет наличие таблицы перед созданием.

### 5. Запуск проекта
```env
python main.py
```

### 6. Основные команды бота
* /start — Запуск бота, начало ввода данных пациента.
* /today_patients — Получить список пациентов, которые записаны на приём сегодня.
* /week_patients — Получить количество пациентов за каждый день недели.
* /reset — Сбросить текущее состояние и начать ввод данных заново.